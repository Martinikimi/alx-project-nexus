<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NexusStore | Premium E-Commerce Experience</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/responsive.css">
</head>
<body>
    <!-- Premium Header -->
    <header>
        <div class="container">
            <nav class="navbar">
                <a href="#" class="logo" onclick="navigateTo('/'); return false;">
                    <i class="fas fa-gem logo-icon"></i>
                    NexusStore
                </a>
                
                <!-- Enhanced Search Bar -->
                <div class="search-container">
                    <input type="text" id="globalSearch" class="search-input" placeholder="ðŸ” Search products..." 
                           onkeypress="handleGlobalSearch(event)">
                    <button class="btn-primary btn-small" onclick="performGlobalSearch()">
                        <i class="fas fa-search"></i> Search
                    </button>
                </div>

                <ul class="nav-links">
                    <li><a href="#" onclick="navigateTo('/products'); return false;">
                        <i class="fas fa-store"></i> Products
                    </a></li>
                    <li><a href="#" onclick="navigateTo('/categories'); return false;">
                        <i class="fas fa-tags"></i> Categories
                    </a></li>
                    <li><a href="#" onclick="navigateTo('/cart'); return false;">
                        <i class="fas fa-shopping-cart"></i> Cart <span id="cartCount" class="cart-badge hidden">0</span>
                    </a></li>
                    <li id="authLinks">
                        <a href="#" onclick="navigateTo('/login'); return false;">
                            <i class="fas fa-sign-in-alt"></i> Login
                        </a>
                        <a href="#" onclick="navigateTo('/register'); return false;">
                            <i class="fas fa-user-plus"></i> Register
                        </a>
                    </li>
                    <li id="userLinks" class="hidden">
                        <a href="#" onclick="navigateTo('/profile'); return false;">
                            <i class="fas fa-user"></i> Profile
                        </a>
                        <a href="#" onclick="navigateTo('/orders'); return false;">
                            <i class="fas fa-clipboard-list"></i> Orders
                        </a>
                        <a href="#" onclick="logout(); return false;">
                            <i class="fas fa-sign-out-alt"></i> Logout
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- Home/Landing Page -->
            <div id="homePage" class="hidden">
                <div class="hero">
                    <h1>Welcome to NexusStore</h1>
                    <p>Discover premium products with exceptional quality. Experience shopping redefined with fast delivery and outstanding customer service.</p>
                    <div class="flex justify-center gap-3 mt-4">
                        <button class="btn-primary" onclick="navigateTo('/products')">
                            <i class="fas fa-shopping-bag"></i> Start Shopping
                        </button>
                        <button class="btn-secondary" onclick="navigateTo('/categories')">
                            <i class="fas fa-compass"></i> Explore Categories
                        </button>
                    </div>
                </div>
                
                <!-- Featured Products Preview -->
                <div class="mt-6">
                    <h2 class="text-center mb-4">Featured Products</h2>
                    <div id="featuredProducts" class="products-grid">
                        <!-- Featured products will be loaded here -->
                    </div>
                </div>
            </div>

            <!-- Login Form -->
            <div id="loginForm" class="form-container hidden">
                <h2 class="text-center"><i class="fas fa-lock"></i> Login</h2>
                <form id="loginFormElement">
                    <div class="form-group">
                        <label><i class="fas fa-envelope"></i> Email:</label>
                        <input type="email" id="loginEmail" required placeholder="Enter your email">
                    </div>
                    <div class="form-group">
                        <label><i class="fas fa-key"></i> Password:</label>
                        <input type="password" id="loginPassword" required placeholder="Enter your password">
                    </div>
                    <button type="submit" class="btn-primary w-full">
                        <i class="fas fa-sign-in-alt"></i> Login
                    </button>
                </form>
                <div class="text-center mt-3">
                    <p>Don't have an account?</p>
                    <button class="btn-secondary mt-2" onclick="navigateTo('/register')">
                        <i class="fas fa-user-plus"></i> Create Account
                    </button>
                </div>
                <div id="loginMessage"></div>
            </div>

            <!-- Register Form -->
            <div id="registerForm" class="form-container hidden">
                <h2 class="text-center"><i class="fas fa-user-plus"></i> Register</h2>
                <form id="registerFormElement">
                    <div class="form-group">
                        <label><i class="fas fa-envelope"></i> Email:</label>
                        <input type="email" id="regEmail" required placeholder="Enter your email">
                    </div>
                    <div class="form-group">
                        <label><i class="fas fa-user"></i> Username:</label>
                        <input type="text" id="regUsername" required placeholder="Choose a username">
                    </div>
                    <div class="grid-2">
                        <div class="form-group">
                            <label><i class="fas fa-user"></i> First Name:</label>
                            <input type="text" id="regFirstName" required placeholder="First name">
                        </div>
                        <div class="form-group">
                            <label><i class="fas fa-user"></i> Last Name:</label>
                            <input type="text" id="regLastName" required placeholder="Last name">
                        </div>
                    </div>
                    <div class="form-group">
                        <label><i class="fas fa-phone"></i> Phone Number:</label>
                        <input type="tel" id="regPhone" placeholder="Enter your phone number">
                    </div>
                    <div class="form-group">
                        <label><i class="fas fa-birthday-cake"></i> Date of Birth:</label>
                        <input type="date" id="regDob" required>
                    </div>
                    <div class="form-group">
                        <label><i class="fas fa-home"></i> Address:</label>
                        <textarea id="regAddress" rows="3" placeholder="Enter your address"></textarea>
                    </div>
                    <div class="grid-2">
                        <div class="form-group">
                            <label><i class="fas fa-lock"></i> Password:</label>
                            <input type="password" id="regPassword" required placeholder="Create a password">
                        </div>
                        <div class="form-group">
                            <label><i class="fas fa-check-circle"></i> Confirm Password:</label>
                            <input type="password" id="regPasswordConfirm" required placeholder="Confirm your password">
                        </div>
                    </div>
                    <button type="submit" class="btn-success w-full">
                        <i class="fas fa-user-plus"></i> Create Account
                    </button>
                </form>
                <div class="text-center mt-3">
                    <p>Already have an account?</p>
                    <button class="btn-secondary mt-2" onclick="navigateTo('/login')">
                        <i class="fas fa-sign-in-alt"></i> Sign In
                    </button>
                </div>
                <div id="registerMessage"></div>
            </div>

            <!-- Profile Section -->
            <div id="profileSection" class="form-container hidden">
                <h2 class="text-center"><i class="fas fa-user-circle"></i> User Profile</h2>
                <div id="profileData">
                    <div class="spinner"></div>
                </div>
                <div class="text-center mt-4">
                    <button class="btn-danger" onclick="logout()">
                        <i class="fas fa-sign-out-alt"></i> Logout
                    </button>
                </div>
            </div>

            <!-- Products Page -->
            <div id="productsPage" class="hidden">
                <div class="flex justify-between items-center mb-4">
                    <h2><i class="fas fa-store"></i> All Products</h2>
                    <div class="flex gap-2">
                        <button class="btn-secondary" onclick="loadProducts()">
                            <i class="fas fa-sync-alt"></i> Refresh
                        </button>
                    </div>
                </div>

                <!-- Search and Filter Controls -->
                <div class="controls-container">
                    <div class="controls-grid">
                        <!-- Search -->
                        <div class="filter-group">
                            <label class="filter-label"><i class="fas fa-search"></i> Search Products</label>
                            <input type="text" id="searchInput" class="search-input" placeholder="Enter product name..." 
                                   onkeypress="handleSearchEnter(event)">
                        </div>

                        <!-- Category Filter -->
                        <div class="filter-group">
                            <label class="filter-label"><i class="fas fa-tags"></i> Category</label>
                            <select id="categoryFilter">
                                <option value="">All Categories</option>
                                <!-- Categories will be populated dynamically -->
                            </select>
                        </div>

                        <!-- Price Range -->
                        <div class="filter-group">
                            <label class="filter-label"><i class="fas fa-dollar-sign"></i> Price Range</label>
                            <div class="price-inputs">
                                <input type="number" id="minPrice" class="price-input" placeholder="Min $" min="0">
                                <input type="number" id="maxPrice" class="price-input" placeholder="Max $" min="0">
                            </div>
                        </div>

                        <!-- Sort Options -->
                        <div class="filter-group">
                            <label class="filter-label"><i class="fas fa-sort"></i> Sort By</label>
                            <select id="sortOption">
                                <option value="">Newest First</option>
                                <option value="price_asc">Price: Low to High</option>
                                <option value="price_desc">Price: High to Low</option>
                                <option value="date_asc">Date: Oldest First</option>
                                <option value="name_asc">Name: A to Z</option>
                                <option value="name_desc">Name: Z to A</option>
                            </select>
                        </div>

                        <!-- Action Buttons -->
                        <div class="filter-group">
                            <label class="filter-label">&nbsp;</label>
                            <div class="flex gap-2">
                                <button class="btn-primary btn-small w-full" onclick="applyFilters()">
                                    <i class="fas fa-filter"></i> Apply Filters
                                </button>
                                <button class="btn-secondary btn-small" onclick="clearFilters()">
                                    <i class="fas fa-trash"></i> Clear
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Results Info -->
                <div id="resultsInfo" class="results-info hidden"></div>

                <div id="productsLoading" class="spinner"></div>
                <div id="productsGrid" class="products-grid"></div>
                
                <!-- Pagination Controls -->
                <div id="paginationContainer" class="pagination-container hidden">
                    <div class="pagination-info" id="paginationInfo"></div>
                    <div class="pagination-controls" id="paginationControls"></div>
                    <div class="page-size-selector">
                        <label for="pageSizeSelect">Show:</label>
                        <select id="pageSizeSelect" onchange="changePageSize(this.value)">
                            <option value="15">15</option>
                            <option value="24">24</option>
                            <option value="36">36</option>
                            <option value="48">48</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Categories Page -->
            <div id="categoriesPage" class="hidden">
                <h2 class="text-center mb-4"><i class="fas fa-tags"></i> Categories</h2>
                <div id="categoriesLoading" class="spinner"></div>
                <div id="categoriesList" class="products-grid"></div>
            </div>

            <!-- Cart Page -->
            <div id="cartPage" class="hidden">
                <h2 class="text-center mb-4"><i class="fas fa-shopping-cart"></i> Shopping Cart</h2>
                <div id="cartItems"></div>
                <div id="cartTotal" class="text-center mt-4"></div>
                <div class="text-center mt-4 flex justify-center gap-3">
                    <button class="btn-success" onclick="navigateTo('/checkout')">
                        <i class="fas fa-credit-card"></i> Proceed to Checkout
                    </button>
                    <button class="btn-danger" onclick="clearCart()">
                        <i class="fas fa-trash"></i> Clear Cart
                    </button>
                </div>
            </div>

            <!-- Checkout Page -->
            <div id="checkoutPage" class="form-container hidden">
                <h2 class="text-center"><i class="fas fa-credit-card"></i> Checkout</h2>
                <div id="checkoutSummary" class="mb-4"></div>
                <form id="checkoutForm">
                    <div class="form-group">
                        <label><i class="fas fa-home"></i> Shipping Address:</label>
                        <textarea id="shippingAddress" rows="3" required placeholder="Enter your complete shipping address"></textarea>
                    </div>
                    <button type="submit" class="btn-success w-full">
                        <i class="fas fa-check-circle"></i> Place Order
                    </button>
                </form>
                <div class="text-center mt-3">
                    <button class="btn-secondary" onclick="navigateTo('/cart')">
                        <i class="fas fa-arrow-left"></i> Back to Cart
                    </button>
                </div>
                <div id="checkoutMessage"></div>
            </div>

            <!-- Orders Page -->
            <div id="ordersPage" class="hidden">
                <h2 class="text-center mb-4"><i class="fas fa-clipboard-list"></i> My Orders</h2>
                <div id="ordersLoading" class="spinner"></div>
                <div id="ordersList"></div>
            </div>

            <!-- Order Detail Page -->
            <div id="orderDetailPage" class="hidden">
                <div id="orderDetailContent"></div>
            </div>

            <!-- Product Detail Page -->
            <div id="productDetailPage" class="hidden">
                <div id="productDetail"></div>
            </div>
        </div>
    </main>

    <!-- Back to Top Button -->
    <a href="#" class="back-to-top" onclick="scrollToTop(); return false;">
        <i class="fas fa-chevron-up"></i>
    </a>

    <!-- Premium Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div>
                    <div class="logo">
                        <i class="fas fa-gem logo-icon"></i>
                        NexusStore
                    </div>
                    <p>Your premium shopping destination</p>
                </div>
                <div class="footer-links">
                    <div>
                        <h3>Shop</h3>
                        <a href="#" onclick="navigateTo('/products'); return false;">All Products</a>
                        <a href="#" onclick="navigateTo('/categories'); return false;">Categories</a>
                        <a href="#">Featured</a>
                        <a href="#">New Arrivals</a>
                    </div>
                    <div>
                        <h3>Support</h3>
                        <a href="#">Contact Us</a>
                        <a href="#">Shipping Info</a>
                        <a href="#">Returns</a>
                        <a href="#">FAQ</a>
                    </div>
                    <div>
                        <h3>Company</h3>
                        <a href="#">About Us</a>
                        <a href="#">Careers</a>
                        <a href="#">Privacy Policy</a>
                        <a href="#">Terms of Service</a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 NexusStore. All rights reserved. | Built with <i class="fas fa-heart" style="color: #ef4444;"></i> for premium e-commerce</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript Files -->
    <script src="js/utils.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/products.js"></script>
    <script src="js/cart.js"></script>
    <script src="js/orders.js"></script>
    <script src="js/app.js"></script>
</body>
</html>